"use strict";const header=document.querySelector(".header"),burger=header.querySelector(".header__burger"),menu=document.querySelector(".header__nav");burger.addEventListener("click",function(){this.classList.toggle("header__burger--opened"),header.classList.toggle("header--opened"),header.classList.contains("header--opened")?menu.style.height=menu.scrollHeight+"px":menu.style.height=""});let arrowBtn=document.querySelectorAll(".button-arrow"),arrowText=document.querySelector(".intro__next-btn-text");arrowText.addEventListener("mouseover",function(){arrowBtn[0].style.opacity=1}),arrowText.addEventListener("mouseleave",function(){arrowBtn[0].style.opacity=""}),arrowBtn[0].addEventListener("mouseover",function(){arrowText.style.opacity=1}),arrowBtn[0].addEventListener("mouseleave",function(){arrowText.style.opacity=""}),arrowText.addEventListener("click",function(){arrowText.parentElement.parentElement.nextElementSibling.scrollIntoView({block:"start",behavior:"smooth"})}),arrowBtn.forEach(function(e){e.addEventListener("click",function(e){let t=this.parentElement,n=t.nextElementSibling;n||(n=t.parentElement.nextElementSibling),n.scrollIntoView({block:"start",behavior:"smooth"})})});let slides=document.querySelectorAll(".how__item");const counter=document.querySelector(".how__slider-number--current"),allSlides=document.querySelector(".how__slider-number--all"),prevSlide=document.querySelector(".how__slider-button--prev"),nextSlide=document.querySelector(".how__slider-button--next");let currentPosition,slideWidth;allSlides.innerHTML=`0${slides.length}`,nextSlide.addEventListener("click",()=>{void 0===currentPosition&&(currentPosition=0),slideWidth=slides[0].offsetWidth,currentPosition+=-slideWidth,slides.forEach(e=>{currentPosition<-slideWidth*(slides.length-1)&&(e.style.transform="translateX(0px)",currentPosition=0),e.style.transform=`translateX(${currentPosition}px)`}),counter.innerHTML=`0${-1*(currentPosition/288-1)} /`}),prevSlide.addEventListener("click",()=>{void 0===currentPosition&&(currentPosition=0),slideWidth=slides[0].offsetWidth,currentPosition+=slideWidth,slides.forEach(e=>{currentPosition>0&&(currentPosition=-864,e.style.transform=`translateX(${currentPosition}}px)`),e.style.transform=`translateX(${currentPosition}px)`}),counter.innerHTML=0==currentPosition?"01 /":counter.innerHTML=`0${-1*(currentPosition/288-1)} /`});let questionBtns=document.querySelectorAll(".questions__btn");const answers=document.querySelectorAll(".questions__answer-wrapper");for(let e of questionBtns)e.addEventListener("click",function(e){let t=this.parentElement.nextElementSibling;t.style.height?(t.style.height="",t.classList.remove("questions__answer-wrapper--opened"),this.classList.remove("button__question--opened")):(answers.forEach(function(e){e.style.height&&(e.style.height="",e.classList.remove("questions__answer-wrapper--opened")),questionBtns.forEach(e=>{e.classList.remove("button__question--opened")})}),t.style.height=t.scrollHeight+"px",t.classList.add("questions__answer-wrapper--opened"),this.classList.add("button__question--opened"))});const orderBbtn=document.querySelector(".header__order-btn"),orderBbtn2=document.querySelector(".intro__order-btn"),modal=document.querySelector(".modal"),modalForm=document.forms.modalForm,modalOverlay=document.querySelector(".modal__overlay");orderBbtn.addEventListener("click",()=>{modal.classList.add("modal--opened"),modalOverlay.onclick=(()=>{phoneInput.value="",nameInput.value="",phoneInput.classList.remove("input--valid"),nameInput.classList.remove("input--valid"),nameInput.parentElement.classList.remove("modal__input-wrapper--valid"),phoneInput.parentElement.classList.remove("modal__input-wrapper--valid"),modal.classList.remove("modal--opened")})}),orderBbtn2.addEventListener("click",()=>{modal.classList.add("modal--opened"),modalOverlay.onclick=(()=>{phoneInput.value="",nameInput.value="",phoneInput.classList.remove("input--valid"),nameInput.classList.remove("input--valid"),nameInput.parentElement.classList.remove("modal__input-wrapper--valid"),phoneInput.parentElement.classList.remove("modal__input-wrapper--valid"),modal.classList.remove("modal--opened")})});const phoneInput=document.querySelector(".input--phone");Inputmask({mask:"+ 7(999) 999-99-99"}).mask(phoneInput);const alertClose=document.querySelector(".modal__fill-alert-close"),nameInput=document.querySelector(".input--name"),modalAlert=document.querySelector(".modal__fill-alert");function closeAlert(){modalAlert.classList.remove("modal__fill-alert--opened")}nameInput.addEventListener("blur",function(){if(this.value.match("[A-Za-zА-Яа-яЁё]+(s+[A-Za-zА-Яа-яЁё]+)?"))this.classList.add("input--valid"),this.parentElement.classList.add("modal__input-wrapper--valid");else if(nameInput.classList.contains("input--valid")&&phoneInput.classList.contains("input--valid"))modalAlert.classList.add("modal__fill-alert--opened"),setTimeout(closeAlert,1e4);else{if(0===this.value.length)return;this.classList.add("input--invalid"),this.parentElement.classList.add("modal__input-wrapper--invalid"),this.nextElementSibling.classList.add("input__error-text--opened")}}),nameInput.addEventListener("focus",function(){this.classList.remove("input--valid"),this.classList.remove("input--invalid"),this.parentElement.classList.remove("modal__input-wrapper--valid"),this.parentElement.classList.remove("modal__input-wrapper--invalid"),this.nextElementSibling.classList.remove("input__error-text--opened")}),phoneInput.addEventListener("blur",function(){0!==this.value.length&&(this.value.length>0&&this.value.match("_")?(this.classList.add("input--invalid"),this.parentElement.classList.add("modal__input-wrapper--invalid"),this.nextElementSibling.classList.add("input__error-text--opened")):(this.classList.add("input--valid"),this.parentElement.classList.add("modal__input-wrapper--valid")),nameInput.classList.contains("input--valid")&&phoneInput.classList.contains("input--valid")&&(modalAlert.classList.add("modal__fill-alert--opened"),setTimeout(closeAlert,1e4)))}),phoneInput.addEventListener("focus",function(){this.classList.remove("input--valid"),this.classList.remove("input--invalid"),this.parentElement.classList.remove("modal__input-wrapper--valid"),this.parentElement.classList.remove("modal__input-wrapper--invalid"),this.nextElementSibling.classList.remove("input__error-text--opened")}),alertClose.addEventListener("click",closeAlert);let sections=document.querySelectorAll("section"),menuItems=document.querySelectorAll(".header__nav-item");sections.forEach(function(e){e.addEventListener("mouseover",function(t){menuItems.forEach(e=>{e.classList.remove("header__nav-item--active")});let n=e.dataset.section;"about"===n&&menuItems[1].classList.add("header__nav-item--active"),"how"===n&&menuItems[2].classList.add("header__nav-item--active"),"questions"===n&&menuItems[4].classList.add("header__nav-item--active")})});for(let e=0;e<menuItems.length;e++)menuItems[e].addEventListener("click",function(){let e=this.dataset.item;for(let t=0;t<sections.length;t++){if(!e)return;sections[t].dataset.section===e&&(sections[t].scrollIntoView({block:"start",behavior:"smooth"}),burger.classList.remove("header__burger--opened"),header.classList.remove("header--opened"),menu.style.height="")}});for(let e of menuItems);const videoBtn=document.querySelector(".intro__video-btn"),video=document.querySelector(".video"),closeVideo=document.querySelector(".video__close");videoBtn.addEventListener("click",function(){video.classList.add("video--opened")}),closeVideo.addEventListener("click",function(){video.classList.remove("video--opened")});